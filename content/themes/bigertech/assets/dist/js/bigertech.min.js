jQuery(function(t){navigator.userAgent.indexOf("MSIE")<0&&console.log("^_^ 想加入笔戈科技开发团队？请发送邮件到 liuxing@meizu.com"),t("img.lazy")&&t("img.lazy").length>0&&t("img.lazy").lazyload({effect:"fadeIn"}),t(document).ready(function(){var i=t(".qrcode");t(".icon-wechat").hover(function(){var n=t(this).position();i.css("left",(t(window).width()-i.width())/2),i.css("top",n.top-270),i.fadeIn().show()},function(){i.hide()})})});var Menu={settings:{menuBtn:$(".js-menuBtn"),menu:$(".js-menu"),closeBtn:$(".js-closeBtn"),bg:$(".js-Bg"),container:$(".js-menuContainer"),isOpen:!1,isAnimating:!1},init:function(){this.bindUIActions()},bindUIActions:function(){var t=this.settings;t.menuBtn.click(function(){Menu.toggle()}),t.bg.click(function(){Menu.close()}),t.container.click(function(){Menu.close()}),t.closeBtn.click(function(){Menu.close()}),$(window).keydown(function(t){27===t.which&&Menu.close()})},toggle:function(){var t=this.settings;t.isOpen?Menu.close():Menu.open()},open:function(){function t(){i.menu.addClass("is-active"),i.isAnimating=!1}var i=this.settings;i.isAnimating===!1&&(i.isOpen=!0,i.isAnimating=!0,i.menu.css("display","block"),setTimeout(t,100))},close:function(){function t(){i.menu.css("display","none"),i.isAnimating=!1}var i=this.settings;i.isAnimating===!1&&(i.isOpen=!1,i.isAnimating=!0,i.menu.removeClass("is-active"),setTimeout(t,1200))}},Search={settings:{textBox:$(".textbox"),searchBtn:$(".js-searchBtn"),search:$(".js-search"),closeBtn:$(".js-closeBtn"),bg:$(".js-Bg"),container:$(".js-searchContainer"),isOpen:!1,isAnimating:!1},init:function(){this.bindUIActions()},bindUIActions:function(){var t=this.settings;t.searchBtn.click(function(){Search.toggle()}),t.textBox.click(function(){return!1}),t.bg.click(function(){Search.close()}),t.container.click(function(){Search.close()}),t.closeBtn.click(function(){Search.close()}),$(window).keydown(function(t){27===t.which&&Search.close()})},toggle:function(){var t=this.settings;t.isOpen?Search.close():Search.open()},open:function(){function t(){i.search.addClass("is-active"),i.isAnimating=!1}var i=this.settings;i.isAnimating===!1&&(i.isOpen=!0,i.search.css("display","block"),setTimeout(t,100))},close:function(){function t(){i.search.css("display","none"),i.isAnimating=!1}var i=this.settings;i.isAnimating===!1&&(i.isOpen=!1,i.isAnimating=!0,i.search.removeClass("is-active"),setTimeout(t,1200))}},Tag={settings:{tagBtn:$(".js-tagBtn"),tag:$(".js-tags"),closeBtn:$(".js-closeBtn"),bg:$(".js-Bg"),container:$(".js-tagContainer"),isOpen:!1,isAnimating:!1},init:function(){this.bindUIActions()},bindUIActions:function(){var t=this.settings;t.tagBtn.click(function(){Tag.toggle()}),t.bg.click(function(){Tag.close()}),t.container.click(function(){Tag.close()}),t.closeBtn.click(function(){Tag.close()}),$(window).keydown(function(t){27===t.which&&Tag.close()})},toggle:function(){var t=this.settings;t.isOpen?Tag.close():Tag.open()},open:function(){function t(){i.tag.addClass("is-active"),i.isAnimating=!1}var i=this.settings;i.isAnimating===!1&&(i.isOpen=!0,i.isAnimating=!0,i.tag.css("display","block"),setTimeout(t,100))},close:function(){function t(){i.tag.css("display","none"),i.isAnimating=!1}var i=this.settings;i.isAnimating===!1&&(i.isOpen=!1,i.isAnimating=!0,i.tag.removeClass("is-active"),setTimeout(t,1200))}};$(document).ready(function(){Menu.init(),Search.init(),Tag.init()});var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:"<div id='toTop' class='icon-up'></div>",controlattrs:{offsetx:5,offsety:5},anchorkeyword:"#top",state:{isvisible:!1,shouldvisible:!1},scrollup:function(){this.cssfixedsupport||this.$control.css({opacity:0});var t=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);t="string"==typeof t&&1==jQuery("#"+t).length?jQuery("#"+t).offset().top:0,this.$body.animate({scrollTop:t},this.setting.scrollduration)},keepfixed:function(){var t=jQuery(window),i=t.scrollLeft()+t.width()-this.$control.width()-this.controlattrs.offsetx,n=t.scrollTop()+t.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:i+"px",top:n+"px"})},togglecontrol:function(){var t=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=t>=this.setting.startline?!0:!1,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]),this.state.isvisible=!0):0==this.state.shouldvisible&&this.state.isvisible&&(this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]),this.state.isvisible=!1)},init:function(){jQuery(document).ready(function(t){var i=scrolltotop,n=document.all;i.cssfixedsupport=!n||n&&"CSS1Compat"==document.compatMode&&window.XMLHttpRequest,i.$body=window.opera?"CSS1Compat"==document.compatMode?t("html"):t("body"):t("html,body"),i.$control=t('<div id="topcontrol">'+i.controlHTML+"</div>").css({position:i.cssfixedsupport?"fixed":"absolute",bottom:i.controlattrs.offsety,right:i.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Scroll to Top"}).click(function(){return i.scrollup(),!1}).appendTo("body"),document.all&&!window.XMLHttpRequest&&""!=i.$control.text()&&i.$control.css({width:i.$control.width()}),i.togglecontrol(),t('a[href="'+i.anchorkeyword+'"]').click(function(){return i.scrollup(),!1}),t(window).bind("scroll resize",function(){i.togglecontrol()})})}};scrolltotop.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwibmF2YmFyLmpzIiwicmV0dXJuVG9wLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQUEsU0FBQSxHQUNBLFVBQUEsVUFBQSxRQUFBLFFBQUEsR0FFQSxRQUFBLElBQUEsNENBR0EsRUFBQSxhQUFBLEVBQUEsWUFBQSxPQUFBLEdBQ0EsRUFBQSxZQUFBLFVBQUEsT0FBQSxXQUVBLEVBQUEsVUFBQSxNQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFDQSxHQUFBLGdCQUFBLE1BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLFVBQ0EsR0FBQSxJQUFBLFFBQUEsRUFBQSxRQUFBLFFBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxTQUFBLFFBQ0EsV0FDQSxFQUFBLFlDakJBLElBQUEsT0FDQSxVQUNBLFFBQUEsRUFBQSxlQUNBLEtBQUEsRUFBQSxZQUNBLFNBQUEsRUFBQSxnQkFDQSxHQUFBLEVBQUEsVUFDQSxVQUFBLEVBQUEscUJBQ0EsUUFBQSxFQUNBLGFBQUEsR0FFQSxLQUFBLFdBQ0EsS0FBQSxpQkFFQSxjQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLFFBQUEsTUFBQSxXQUNBLEtBQUEsV0FFQSxFQUFBLEdBQUEsTUFBQSxXQUNBLEtBQUEsVUFFQSxFQUFBLFVBQUEsTUFBQSxXQUNBLEtBQUEsVUFFQSxFQUFBLFNBQUEsTUFBQSxXQUNBLEtBQUEsVUFFQSxFQUFBLFFBQUEsUUFBQSxTQUFBLEdBQ0EsS0FBQSxFQUFBLE9BQUEsS0FBQSxXQUdBLE9BQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxRQUNBLEdBQUEsT0FBQSxLQUFBLFFBQUEsS0FBQSxRQUVBLEtBQUEsV0FDQSxRQUFBLEtBQ0EsRUFBQSxLQUFBLFNBQUEsYUFDQSxFQUFBLGFBQUEsRUFFQSxHQUFBLEdBQUEsS0FBQSxRQUNBLEdBQUEsZUFBQSxJQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsYUFBQSxFQUNBLEVBQUEsS0FBQSxJQUFBLFVBQUEsU0FDQSxXQUFBLEVBQUEsT0FHQSxNQUFBLFdBQ0EsUUFBQSxLQUNBLEVBQUEsS0FBQSxJQUFBLFVBQUEsUUFDQSxFQUFBLGFBQUEsRUFFQSxHQUFBLEdBQUEsS0FBQSxRQUNBLEdBQUEsZUFBQSxJQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsYUFBQSxFQUNBLEVBQUEsS0FBQSxZQUFBLGFBQ0EsV0FBQSxFQUFBLFNBR0EsUUFDQSxVQUNBLFFBQUEsRUFBQSxZQUNBLFVBQUEsRUFBQSxpQkFDQSxPQUFBLEVBQUEsY0FDQSxTQUFBLEVBQUEsZ0JBQ0EsR0FBQSxFQUFBLFVBQ0EsVUFBQSxFQUFBLHVCQUNBLFFBQUEsRUFDQSxhQUFBLEdBRUEsS0FBQSxXQUNBLEtBQUEsaUJBRUEsY0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFFBQ0EsR0FBQSxVQUFBLE1BQUEsV0FDQSxPQUFBLFdBR0EsRUFBQSxRQUFBLE1BQUEsV0FDQSxPQUFBLElBRUEsRUFBQSxHQUFBLE1BQUEsV0FDQSxPQUFBLFVBRUEsRUFBQSxVQUFBLE1BQUEsV0FDQSxPQUFBLFVBRUEsRUFBQSxTQUFBLE1BQUEsV0FDQSxPQUFBLFVBRUEsRUFBQSxRQUFBLFFBQUEsU0FBQSxHQUNBLEtBQUEsRUFBQSxPQUFBLE9BQUEsV0FHQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLE9BQUEsT0FBQSxRQUFBLE9BQUEsUUFFQSxLQUFBLFdBQ0EsUUFBQSxLQUNBLEVBQUEsT0FBQSxTQUFBLGFBQ0EsRUFBQSxhQUFBLEVBRUEsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLGVBQUEsSUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLE9BQUEsSUFBQSxVQUFBLFNBQ0EsV0FBQSxFQUFBLE9BR0EsTUFBQSxXQUNBLFFBQUEsS0FDQSxFQUFBLE9BQUEsSUFBQSxVQUFBLFFBQ0EsRUFBQSxhQUFBLEVBRUEsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLGVBQUEsSUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLE9BQUEsWUFBQSxhQUNBLFdBQUEsRUFBQSxTQUtBLEtBQ0EsVUFDQSxPQUFBLEVBQUEsY0FDQSxJQUFBLEVBQUEsWUFDQSxTQUFBLEVBQUEsZ0JBQ0EsR0FBQSxFQUFBLFVBQ0EsVUFBQSxFQUFBLG9CQUNBLFFBQUEsRUFDQSxhQUFBLEdBRUEsS0FBQSxXQUNBLEtBQUEsaUJBRUEsY0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFFBQ0EsR0FBQSxPQUFBLE1BQUEsV0FDQSxJQUFBLFdBRUEsRUFBQSxHQUFBLE1BQUEsV0FDQSxJQUFBLFVBRUEsRUFBQSxVQUFBLE1BQUEsV0FDQSxJQUFBLFVBRUEsRUFBQSxTQUFBLE1BQUEsV0FDQSxJQUFBLFVBRUEsRUFBQSxRQUFBLFFBQUEsU0FBQSxHQUNBLEtBQUEsRUFBQSxPQUFBLElBQUEsV0FHQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLE9BQUEsSUFBQSxRQUFBLElBQUEsUUFFQSxLQUFBLFdBQ0EsUUFBQSxLQUNBLEVBQUEsSUFBQSxTQUFBLGFBQ0EsRUFBQSxhQUFBLEVBRUEsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLGVBQUEsSUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLElBQUEsSUFBQSxVQUFBLFNBQ0EsV0FBQSxFQUFBLE9BR0EsTUFBQSxXQUNBLFFBQUEsS0FDQSxFQUFBLElBQUEsSUFBQSxVQUFBLFFBQ0EsRUFBQSxhQUFBLEVBRUEsR0FBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLGVBQUEsSUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLElBQUEsWUFBQSxhQUNBLFdBQUEsRUFBQSxRQUtBLEdBQUEsVUFBQSxNQUFBLFdBQ0EsS0FBQSxPQUNBLE9BQUEsT0FDQSxJQUFBLFFDbE1BLElBQUEsY0FNQSxTQUFBLFVBQUEsSUFBQSxTQUFBLEVBQUEsZUFBQSxJQUFBLGNBQUEsSUFBQSxNQUVBLFlBQUEseUNBRUEsY0FBQSxRQUFBLEVBQUEsUUFBQSxHQUVBLGNBQUEsT0FFQSxPQUFBLFdBQUEsRUFBQSxlQUFBLEdBR0EsU0FBQSxXQUVBLEtBQUEsaUJBRUEsS0FBQSxTQUFBLEtBQUEsUUFBQSxHQUVBLElBQUEsR0FBQSxNQUFBLEtBQUEsUUFBQSxVQUFBLEtBQUEsUUFBQSxTQUFBLFNBQUEsS0FBQSxRQUFBLFNBSUEsR0FGQSxnQkFBQSxJQUFBLEdBQUEsT0FBQSxJQUFBLEdBQUEsT0FFQSxPQUFBLElBQUEsR0FBQSxTQUFBLElBSUEsRUFFQSxLQUFBLE1BQUEsU0FBQSxVQUFBLEdBQUEsS0FBQSxRQUFBLGlCQUtBLFVBQUEsV0FFQSxHQUFBLEdBQUEsT0FBQSxRQUVBLEVBQUEsRUFBQSxhQUFBLEVBQUEsUUFBQSxLQUFBLFNBQUEsUUFBQSxLQUFBLGFBQUEsUUFFQSxFQUFBLEVBQUEsWUFBQSxFQUFBLFNBQUEsS0FBQSxTQUFBLFNBQUEsS0FBQSxhQUFBLE9BRUEsTUFBQSxTQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFFBS0EsY0FBQSxXQUlBLEdBQUEsR0FBQSxPQUFBLFFBQUEsV0FFQSxNQUFBLGlCQUVBLEtBQUEsWUFFQSxLQUFBLE1BQUEsY0FBQSxHQUFBLEtBQUEsUUFBQSxXQUFBLEdBQUEsRUFFQSxLQUFBLE1BQUEsZ0JBQUEsS0FBQSxNQUFBLFdBRUEsS0FBQSxTQUFBLE9BQUEsU0FBQSxRQUFBLEdBQUEsS0FBQSxRQUFBLGFBQUEsSUFFQSxLQUFBLE1BQUEsV0FBQSxHQUlBLEdBQUEsS0FBQSxNQUFBLGVBQUEsS0FBQSxNQUFBLFlBRUEsS0FBQSxTQUFBLE9BQUEsU0FBQSxRQUFBLEdBQUEsS0FBQSxRQUFBLGFBQUEsSUFFQSxLQUFBLE1BQUEsV0FBQSxJQUtBLEtBQUEsV0FDQSxPQUFBLFVBQUEsTUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQ0EsRUFBQSxTQUFBLEdBQ0EsR0FBQSxpQkFBQSxHQUFBLEdBQUEsY0FBQSxTQUFBLFlBQUEsT0FBQSxlQUNBLEVBQUEsTUFBQSxPQUFBLE1BQUEsY0FBQSxTQUFBLFdBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLGFBQ0EsRUFBQSxTQUFBLEVBQUEsd0JBQUEsRUFBQSxZQUFBLFVBQ0EsS0FBQSxTQUFBLEVBQUEsZ0JBQUEsUUFBQSxXQUFBLE9BQUEsRUFBQSxhQUFBLFFBQUEsTUFBQSxFQUFBLGFBQUEsUUFBQSxRQUFBLEVBQUEsT0FBQSxZQUNBLE1BQUEsTUFBQSxrQkFDQSxNQUFBLFdBQUEsTUFBQSxHQUFBLFlBQUEsSUFDQSxTQUFBLFFBQ0EsU0FBQSxNQUFBLE9BQUEsZ0JBQUEsSUFBQSxFQUFBLFNBQUEsUUFDQSxFQUFBLFNBQUEsS0FBQSxNQUFBLEVBQUEsU0FBQSxVQUNBLEVBQUEsZ0JBRUEsRUFBQSxXQUFBLEVBQUEsY0FBQSxNQUFBLE1BQUEsV0FFQSxNQURBLEdBQUEsWUFDQSxJQUVBLEVBQUEsUUFBQSxLQUFBLGdCQUFBLFdBQ0EsRUFBQSxxQkFLQSxhQUFBIiwiZmlsZSI6ImJpZ2VydGVjaC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJqUXVlcnkoZnVuY3Rpb24oJCkge1xuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKSA8IDApIHtcbiAgICAgIC8vSUU4IOS4jeaUr+aMgWNvbnNvbGVcbiAgICAgIGNvbnNvbGUubG9nKFwiXl9eIOaDs+WKoOWFpeeslOaIiOenkeaKgOW8gOWPkeWboumYn++8n+ivt+WPkemAgemCruS7tuWIsCBsaXV4aW5nQG1laXp1LmNvbVwiKTtcbiAgfVxuXG4gIGlmKCQoXCJpbWcubGF6eVwiKSAmJiAkKFwiaW1nLmxhenlcIikubGVuZ3RoID4gMClcbiAgICAkKFwiaW1nLmxhenlcIikubGF6eWxvYWQoe2VmZmVjdDogXCJmYWRlSW5cIn0pO1xuXG4gICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBxcmNvZGUgPSAkKFwiLnFyY29kZVwiKTtcbiAgICAgICQoXCIuaWNvbi13ZWNoYXRcIikuaG92ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICB2YXIgcG9zID0gJCh0aGlzKS5wb3NpdGlvbigpO1xuICAgICAgICAgIHFyY29kZS5jc3MoXCJsZWZ0XCIsICgkKHdpbmRvdykud2lkdGgoKS1xcmNvZGUud2lkdGgoKSkvMik7XG4gICAgICAgICAgcXJjb2RlLmNzcyhcInRvcFwiLCBwb3MudG9wLTI3MCk7XG4gICAgICAgICAgcXJjb2RlLmZhZGVJbigpLnNob3coKTtcbiAgICAgIH0sZnVuY3Rpb24oKXtcbiAgICAgICAgICBxcmNvZGUuaGlkZSgpO1xuICAgICAgfSk7XG4gIH0pO1xufSk7XG4iLCJ2YXIgTWVudSA9IHtcbiAgc2V0dGluZ3M6IHtcbiAgICBtZW51QnRuOiAkKFwiLmpzLW1lbnVCdG5cIiksXG4gICAgbWVudTogJChcIi5qcy1tZW51XCIpLFxuICAgIGNsb3NlQnRuOiAkKFwiLmpzLWNsb3NlQnRuXCIpLFxuICAgIGJnOiAkKFwiLmpzLUJnXCIpLFxuICAgIGNvbnRhaW5lcjogJChcIi5qcy1tZW51Q29udGFpbmVyXCIpLFxuICAgIGlzT3BlbjogITEsXG4gICAgaXNBbmltYXRpbmc6ICExXG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmJpbmRVSUFjdGlvbnMoKVxuICB9LFxuICBiaW5kVUlBY3Rpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgIGUubWVudUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1lbnUudG9nZ2xlKClcbiAgICB9KTtcbiAgICBlLmJnLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTWVudS5jbG9zZSgpXG4gICAgfSk7XG4gICAgZS5jb250YWluZXIuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBNZW51LmNsb3NlKClcbiAgICB9KTtcbiAgICBlLmNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTWVudS5jbG9zZSgpXG4gICAgfSk7XG4gICAgJCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PT0gMjcgJiYgTWVudS5jbG9zZSgpXG4gICAgfSlcbiAgfSxcbiAgdG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgIGUuaXNPcGVuID8gTWVudS5jbG9zZSgpIDogTWVudS5vcGVuKClcbiAgfSxcbiAgb3BlbjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQoKSB7XG4gICAgICAgIGUubWVudS5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgZS5pc0FuaW1hdGluZyA9ICExXG4gICAgfVxuICAgIHZhciBlID0gdGhpcy5zZXR0aW5ncztcbiAgICBpZiAoZS5pc0FuaW1hdGluZyA9PT0gITEpIHtcbiAgICAgICAgZS5pc09wZW4gPSAhMDtcbiAgICAgICAgZS5pc0FuaW1hdGluZyA9ICEwO1xuICAgICAgICBlLm1lbnUuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KHQsIDEwMClcbiAgICB9XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgICAgZS5tZW51LmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICBlLmlzQW5pbWF0aW5nID0gITFcbiAgICB9XG4gICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgIGlmIChlLmlzQW5pbWF0aW5nID09PSAhMSkge1xuICAgICAgICBlLmlzT3BlbiA9ICExO1xuICAgICAgICBlLmlzQW5pbWF0aW5nID0gITA7XG4gICAgICAgIGUubWVudS5yZW1vdmVDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgc2V0VGltZW91dCh0LCAxMjAwKVxuICAgIH1cbiAgfVxufSwgU2VhcmNoID0ge1xuICBzZXR0aW5nczoge1xuICAgICAgdGV4dEJveDogJChcIi50ZXh0Ym94XCIpLFxuICAgICAgc2VhcmNoQnRuOiAkKFwiLmpzLXNlYXJjaEJ0blwiKSxcbiAgICAgIHNlYXJjaDogJChcIi5qcy1zZWFyY2hcIiksXG4gICAgICBjbG9zZUJ0bjogJChcIi5qcy1jbG9zZUJ0blwiKSxcbiAgICAgIGJnOiAkKFwiLmpzLUJnXCIpLFxuICAgICAgY29udGFpbmVyOiAkKFwiLmpzLXNlYXJjaENvbnRhaW5lclwiKSxcbiAgICAgIGlzT3BlbjogITEsXG4gICAgICBpc0FuaW1hdGluZzogITFcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5iaW5kVUlBY3Rpb25zKClcbiAgfSxcbiAgYmluZFVJQWN0aW9uczogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gdGhpcy5zZXR0aW5ncztcbiAgICBlLnNlYXJjaEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIFNlYXJjaC50b2dnbGUoKVxuICAgIH0pO1xuICAgIC8vIOWkhOeQhuaQnOe0ouahhumYu+atouWGkuazoVxuICAgIGUudGV4dEJveC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgZS5iZy5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIFNlYXJjaC5jbG9zZSgpXG4gICAgfSk7XG4gICAgZS5jb250YWluZXIuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBTZWFyY2guY2xvc2UoKVxuICAgIH0pO1xuICAgIGUuY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBTZWFyY2guY2xvc2UoKVxuICAgIH0pO1xuICAgICQod2luZG93KS5rZXlkb3duKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUud2hpY2ggPT09IDI3ICYmIFNlYXJjaC5jbG9zZSgpXG4gICAgfSlcbiAgfSxcbiAgdG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgICBlLmlzT3BlbiA/IFNlYXJjaC5jbG9zZSgpIDogU2VhcmNoLm9wZW4oKVxuICB9LFxuICBvcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiB0KCkge1xuICAgICAgICAgIGUuc2VhcmNoLmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgIGUuaXNBbmltYXRpbmcgPSAhMVxuICAgICAgfVxuICAgICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgICAgaWYgKGUuaXNBbmltYXRpbmcgPT09ICExKSB7XG4gICAgICAgICAgZS5pc09wZW4gPSAhMDtcbiAgICAgICAgICBlLnNlYXJjaC5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgc2V0VGltZW91dCh0LCAxMDApXG4gICAgICB9XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiB0KCkge1xuICAgICAgICAgIGUuc2VhcmNoLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgIGUuaXNBbmltYXRpbmcgPSAhMVxuICAgICAgfVxuICAgICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgICAgaWYgKGUuaXNBbmltYXRpbmcgPT09ICExKSB7XG4gICAgICAgICAgZS5pc09wZW4gPSAhMTtcbiAgICAgICAgICBlLmlzQW5pbWF0aW5nID0gITA7XG4gICAgICAgICAgZS5zZWFyY2gucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgc2V0VGltZW91dCh0LCAxMjAwKVxuICAgICAgfVxuICB9LFxufTtcblxudmFyIFRhZyA9IHtcbiAgc2V0dGluZ3M6IHtcbiAgICB0YWdCdG46ICQoXCIuanMtdGFnQnRuXCIpLFxuICAgIHRhZzogJChcIi5qcy10YWdzXCIpLFxuICAgIGNsb3NlQnRuOiAkKFwiLmpzLWNsb3NlQnRuXCIpLFxuICAgIGJnOiAkKFwiLmpzLUJnXCIpLFxuICAgIGNvbnRhaW5lcjogJChcIi5qcy10YWdDb250YWluZXJcIiksXG4gICAgaXNPcGVuOiAhMSxcbiAgICBpc0FuaW1hdGluZzogITFcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYmluZFVJQWN0aW9ucygpXG4gIH0sXG4gIGJpbmRVSUFjdGlvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgZS50YWdCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBUYWcudG9nZ2xlKClcbiAgICB9KTtcbiAgICBlLmJnLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgVGFnLmNsb3NlKClcbiAgICB9KTtcbiAgICBlLmNvbnRhaW5lci5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIFRhZy5jbG9zZSgpXG4gICAgfSk7XG4gICAgZS5jbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIFRhZy5jbG9zZSgpXG4gICAgfSk7XG4gICAgJCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PT0gMjcgJiYgVGFnLmNsb3NlKClcbiAgICB9KVxuICB9LFxuICB0b2dnbGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgZS5pc09wZW4gPyBUYWcuY2xvc2UoKSA6IFRhZy5vcGVuKClcbiAgfSxcbiAgb3BlbjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQoKSB7XG4gICAgICAgIGUudGFnLmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICBlLmlzQW5pbWF0aW5nID0gITFcbiAgICB9XG4gICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgIGlmIChlLmlzQW5pbWF0aW5nID09PSAhMSkge1xuICAgICAgICBlLmlzT3BlbiA9ICEwO1xuICAgICAgICBlLmlzQW5pbWF0aW5nID0gITA7XG4gICAgICAgIGUudGFnLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgc2V0VGltZW91dCh0LCAxMDApXG4gICAgfVxuICB9LFxuICBjbG9zZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQoKSB7XG4gICAgICAgIGUudGFnLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICBlLmlzQW5pbWF0aW5nID0gITFcbiAgICB9XG4gICAgdmFyIGUgPSB0aGlzLnNldHRpbmdzO1xuICAgIGlmIChlLmlzQW5pbWF0aW5nID09PSAhMSkge1xuICAgICAgICBlLmlzT3BlbiA9ICExO1xuICAgICAgICBlLmlzQW5pbWF0aW5nID0gITA7XG4gICAgICAgIGUudGFnLnJlbW92ZUNsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KHQsIDEyMDApXG4gICAgfVxuICB9XG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIE1lbnUuaW5pdCgpO1xuICBTZWFyY2guaW5pdCgpO1xuICBUYWcuaW5pdCgpO1xufSk7XG4iLCJ2YXIgc2Nyb2xsdG90b3A9e1xyXG5cclxuICAgIC8vc3RhcnRsaW5lOiBJbnRlZ2VyLiBOdW1iZXIgb2YgcGl4ZWxzIGZyb20gdG9wIG9mIGRvYyBzY3JvbGxiYXIgaXMgc2Nyb2xsZWQgYmVmb3JlIHNob3dpbmcgY29udHJvbFxyXG5cclxuICAgIC8vc2Nyb2xsdG86IEtleXdvcmQgKEludGVnZXIsIG9yIFwiU2Nyb2xsX3RvX0VsZW1lbnRfSURcIikuIEhvdyBmYXIgdG8gc2Nyb2xsIGRvY3VtZW50IHVwIHdoZW4gY29udHJvbCBpcyBjbGlja2VkIG9uICgwPXRvcCkuXHJcblxyXG4gICAgc2V0dGluZzoge3N0YXJ0bGluZToxMDAsIHNjcm9sbHRvOiAwLCBzY3JvbGxkdXJhdGlvbjoxMDAwLCBmYWRlZHVyYXRpb246WzUwMCwgMTAwXX0sXHJcblxyXG4gICAgY29udHJvbEhUTUw6IFwiPGRpdiBpZD0ndG9Ub3AnIGNsYXNzPSdpY29uLXVwJz48L2Rpdj5cIiwgLy9IVE1MIGZvciBjb250cm9sLCB3aGljaCBpcyBhdXRvIHdyYXBwZWQgaW4gRElWIHcvIElEPVwidG9wY29udHJvbFwiXHJcblxyXG4gICAgY29udHJvbGF0dHJzOiB7b2Zmc2V0eDo1LCBvZmZzZXR5OjV9LCAvL29mZnNldCBvZiBjb250cm9sIHJlbGF0aXZlIHRvIHJpZ2h0LyBib3R0b20gb2Ygd2luZG93IGNvcm5lclxyXG5cclxuICAgIGFuY2hvcmtleXdvcmQ6ICcjdG9wJywgLy9FbnRlciBocmVmIHZhbHVlIG9mIEhUTUwgYW5jaG9ycyBvbiB0aGUgcGFnZSB0aGF0IHNob3VsZCBhbHNvIGFjdCBhcyBcIlNjcm9sbCBVcFwiIGxpbmtzXHJcblxyXG4gc3RhdGU6IHtpc3Zpc2libGU6ZmFsc2UsIHNob3VsZHZpc2libGU6ZmFsc2V9LFxyXG5cclxuXHJcbiAgICBzY3JvbGx1cDpmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY3NzZml4ZWRzdXBwb3J0KSAvL2lmIGNvbnRyb2wgaXMgcG9zaXRpb25lZCB1c2luZyBKYXZhU2NyaXB0XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRjb250cm9sLmNzcyh7b3BhY2l0eTowfSkgLy9oaWRlIGNvbnRyb2wgaW1tZWRpYXRlbHkgYWZ0ZXIgY2xpY2tpbmcgaXRcclxuXHJcbiAgICAgICAgdmFyIGRlc3Q9aXNOYU4odGhpcy5zZXR0aW5nLnNjcm9sbHRvKT8gdGhpcy5zZXR0aW5nLnNjcm9sbHRvIDogcGFyc2VJbnQodGhpcy5zZXR0aW5nLnNjcm9sbHRvKVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGRlc3Q9PVwic3RyaW5nXCIgJiYgalF1ZXJ5KCcjJytkZXN0KS5sZW5ndGg9PTEpIC8vY2hlY2sgZWxlbWVudCBzZXQgYnkgc3RyaW5nIGV4aXN0c1xyXG5cclxuICAgICAgICAgICAgZGVzdD1qUXVlcnkoJyMnK2Rlc3QpLm9mZnNldCgpLnRvcFxyXG5cclxuICAgICAgICBlbHNlXHJcblxyXG4gICAgICAgICAgICBkZXN0PTBcclxuXHJcbiAgICAgICAgdGhpcy4kYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IGRlc3R9LCB0aGlzLnNldHRpbmcuc2Nyb2xsZHVyYXRpb24pO1xyXG5cclxuICAgIH0sXHJcblxyXG5cclxuICAgIGtlZXBmaXhlZDpmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICB2YXIgJHdpbmRvdz1qUXVlcnkod2luZG93KVxyXG5cclxuICAgICAgICB2YXIgY29udHJvbHg9JHdpbmRvdy5zY3JvbGxMZWZ0KCkgKyAkd2luZG93LndpZHRoKCkgLSB0aGlzLiRjb250cm9sLndpZHRoKCkgLSB0aGlzLmNvbnRyb2xhdHRycy5vZmZzZXR4XHJcblxyXG4gICAgICAgIHZhciBjb250cm9seT0kd2luZG93LnNjcm9sbFRvcCgpICsgJHdpbmRvdy5oZWlnaHQoKSAtIHRoaXMuJGNvbnRyb2wuaGVpZ2h0KCkgLSB0aGlzLmNvbnRyb2xhdHRycy5vZmZzZXR5XHJcblxyXG4gICAgICAgIHRoaXMuJGNvbnRyb2wuY3NzKHtsZWZ0OmNvbnRyb2x4KydweCcsIHRvcDpjb250cm9seSsncHgnfSlcclxuXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICB0b2dnbGVjb250cm9sOmZ1bmN0aW9uKCl7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyIHNjcm9sbHRvcD1qUXVlcnkod2luZG93KS5zY3JvbGxUb3AoKVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY3NzZml4ZWRzdXBwb3J0KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5rZWVwZml4ZWQoKVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlLnNob3VsZHZpc2libGU9KHNjcm9sbHRvcD49dGhpcy5zZXR0aW5nLnN0YXJ0bGluZSk/IHRydWUgOiBmYWxzZVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaG91bGR2aXNpYmxlICYmICF0aGlzLnN0YXRlLmlzdmlzaWJsZSl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRjb250cm9sLnN0b3AoKS5hbmltYXRlKHtvcGFjaXR5OjF9LCB0aGlzLnNldHRpbmcuZmFkZWR1cmF0aW9uWzBdKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc3Zpc2libGU9dHJ1ZVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUuc2hvdWxkdmlzaWJsZT09ZmFsc2UgJiYgdGhpcy5zdGF0ZS5pc3Zpc2libGUpe1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kY29udHJvbC5zdG9wKCkuYW5pbWF0ZSh7b3BhY2l0eTowfSwgdGhpcy5zZXR0aW5nLmZhZGVkdXJhdGlvblsxXSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXN2aXNpYmxlPWZhbHNlXHJcblxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgaW5pdDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XHJcbiAgICAgICAgICAgIHZhciBtYWlub2JqPXNjcm9sbHRvdG9wXHJcbiAgICAgICAgICAgIHZhciBpZWJyd3M9ZG9jdW1lbnQuYWxsXHJcbiAgICAgICAgICAgIG1haW5vYmouY3NzZml4ZWRzdXBwb3J0PSFpZWJyd3MgfHwgaWVicndzICYmIGRvY3VtZW50LmNvbXBhdE1vZGU9PVwiQ1NTMUNvbXBhdFwiICYmIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCAvL25vdCBJRSBvciBJRTcrIGJyb3dzZXJzIGluIHN0YW5kYXJkcyBtb2RlXHJcbiAgICAgICAgICAgIG1haW5vYmouJGJvZHk9KHdpbmRvdy5vcGVyYSk/IChkb2N1bWVudC5jb21wYXRNb2RlPT1cIkNTUzFDb21wYXRcIj8gJCgnaHRtbCcpIDogJCgnYm9keScpKSA6ICQoJ2h0bWwsYm9keScpXHJcbiAgICAgICAgICAgIG1haW5vYmouJGNvbnRyb2w9JCgnPGRpdiBpZD1cInRvcGNvbnRyb2xcIj4nK21haW5vYmouY29udHJvbEhUTUwrJzwvZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuY3NzKHtwb3NpdGlvbjptYWlub2JqLmNzc2ZpeGVkc3VwcG9ydD8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZScsIGJvdHRvbTptYWlub2JqLmNvbnRyb2xhdHRycy5vZmZzZXR5LCByaWdodDptYWlub2JqLmNvbnRyb2xhdHRycy5vZmZzZXR4LCBvcGFjaXR5OjAsY3Vyc29yOidwb2ludGVyJ30pXHJcbiAgICAgICAgICAgICAgICAuYXR0cih7dGl0bGU6J1Njcm9sbCB0byBUb3AnfSlcclxuICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbigpe21haW5vYmouc2Nyb2xsdXAoKTsgcmV0dXJuIGZhbHNlfSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbygnYm9keScpXHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5YTUxIdHRwUmVxdWVzdCAmJiBtYWlub2JqLiRjb250cm9sLnRleHQoKSE9JycpIC8vbG9vc2UgY2hlY2sgZm9yIElFNiBhbmQgYmVsb3csIHBsdXMgd2hldGhlciBjb250cm9sIGNvbnRhaW5zIGFueSB0ZXh0XHJcbiAgICAgICAgICAgICAgICBtYWlub2JqLiRjb250cm9sLmNzcyh7d2lkdGg6bWFpbm9iai4kY29udHJvbC53aWR0aCgpfSkgLy9JRTYtIHNlZW1zIHRvIHJlcXVpcmUgYW4gZXhwbGljaXQgd2lkdGggb24gYSBESVYgY29udGFpbmluZyB0ZXh0XHJcbiAgICAgICAgICAgIG1haW5vYmoudG9nZ2xlY29udHJvbCgpXHJcblxyXG4kKCdhW2hyZWY9XCInICsgbWFpbm9iai5hbmNob3JrZXl3b3JkICsnXCJdJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIG1haW5vYmouc2Nyb2xsdXAoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICQod2luZG93KS5iaW5kKCdzY3JvbGwgcmVzaXplJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBtYWlub2JqLnRvZ2dsZWNvbnRyb2woKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuc2Nyb2xsdG90b3AuaW5pdCgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=